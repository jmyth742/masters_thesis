\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage{float}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage[acronym]{glossaries}
\usepackage{hyperref}
\usepackage[capitalise, noabbrev]{cleveref}
\makeglossaries

% \cref of cleveref: strip Eq. from equation references
% https://tex.stackexchange.com/questions/122174/how-to-strip-eq-from-cleverf
%\crefname{equation}{}{} % Completely delete Equation, even as name
\crefformat{equation}{(#2#1#3)}
\crefrangeformat{equation}{(#3#1#4) to~(#5#2#6)}
\crefmultiformat{equation}{(#2#1#3)}%
{ and~(#2#1#3)}{, (#2#1#3)}{ and~(#2#1#3)}

\title{Feedback Channels for Multicast Signals in 3GPP LTE and 5G New Radio Networks}

\author{Jonathan Smyth}
% \author[2]{\small Supervisor: Prof Sławomir Stańczak}
% % \author[2]{Bob Jones}
% \affil[1]{Department of Mathematics, University X}
% \affil[2]{Department of Biology, University Y}
% {\small Supervisor: Prof Sławomir Stańczak}
% {\small Supervisor: Prof Danielle Fontanelli}
% {\small Supervisor: Prof Dennis Wieruch}


%  keep results together, 
% keep implementation /simulations process together too. 
% highlight that this is implementation of the known tbma equations. 
\date{Jan 2021}

\begin{document}

\maketitle
\newpage 
\tableofcontents
\newpage

\section*{Acknowledgements}

\newpage

\section*{Abbreviations}
\begin{itemize}
\item Type based multiple access - TBMA
\item Evolved Node B - eNB
\item User equipment - UE
\item Information centric networking - ICN
\item Forward error correction - FEC
\item Hybrid Automatic repeat request - HARQ
\item Precoding matrix indicator - PMI 
\item Rank Indicator 
\item Channel State information - CSI 
\item Channel quality indicator - CQI 
\item Radio network identifier - RNTI
\item Physical uplink shared channel - PUSCH
\item Physical uplink control channel - PUCCH
\item Time division multiple access - TDMA 
\item Frequency division multiple access - FDMA
\item Code division multiple access - CDMA
\item Evolved packet core - EPC
\item Independent and identically distributed - I.I.D
\item Probability mass function - PMF
\item Probability density function - PDF
\item Signal to noise ration - SNR 
\item Maximum likelihood - ML
\item Acknowledgement - ACK
\item Mean Squared Error - MSE 
\item Time division duplexing - TDD
\item Frequency division duplexing - FDD
\item Uplink Control Information - UCI
\item Downlink Control Information - DCI
\item Uplink Shared channel - UL-SCH 
\item Least significant bit - LSB
\item Radio Resource Control - RRC
\item Cyclic Prefix - CP
\item Proof of Concept - POC
\item Universal Software Radio Peripheral - USRP
\item Over the Air - OTA
\end{itemize} 
\newpage


\section*{Abstract}
\newpage

\section{Introduction}\label{intro}

\subsection{Motivation and goal of thesis}
The capabilities of the 5th generation of mobile communications promise new application in variety of
fields, where some examples are autonomous driving, immersive audio/video, Internet-of-Things and Industry 4.0. While the primary focus of the first release of 3GPP New Radio (NR) is mobile communications in general, future releases will also comprise the above mentioned vertical markets. In contrast to the current release of 3GPP NR, 3GPP LTE is already addressing the vertical markets with a reduced feature set. Consequently, the current extension of 3GPP LTE can also be seen as proof-of concept for the next releases of 3GPP NR.

Applications like autonomous driving highly depend on a reliable and efficient communication link between vehicles and road infrastructure. For autonomous vehicles to operate in busy cities, they must be able to interact with such actors in the city as, traffic lights, cars, and other connected devices to the road infrastructures. Looking at the likes of traffic lights, a prime example for efficient movement of autonomous vehicles could be knowing about the current and future state of the traffic lights, broadcasting or multi casting information to cars in the grid would allow efficient planning and choice of routes. Therefore, broadcast and multicast signals are essential to perform efficient communication with the scarce spectrum resources. However, current methods of broadcast/multicast just offer communications without link quality information to the target group. Feedback mechanisms are generally present only for unicast transmissions. In order to enable efficient feedback mechanisms for multicast communications, information centric communication approaches, e.g. based on type based multiple access (TBMA)\cite{tbma}, promise an efficient implementation. This is further justified if a large number of devices with strict latency requirements are taken into account, rendering dedicated feedback channels ineffective. If we consider an overview on how channel quality indicator (CQI) feedback mechanisms work currently in the LTE framework, they are done on the PUSCH or PUCCH (Physical Up-link shared channel, Physical uplink control channel, respectively) depending on the exact settings of the transmission \cite{ETSITS136213}[Section 7.2 ]. We see that each user connected to an eNB is given an RNTI (Radio Network Identifier), this RNTI is used to scramble the data transmitted and to decode the received data on the eNB, both for uplink and downlink. This means that in the current setup in LTE, the eNB must decode the total number of users in a group one by one, on their specific RNTI. When considering this for a large number of grouped users, we notice that the base station must individually decode each users response based on their RNTI. This can cause bottle necking in safety critical systems, as the computation for one feedback is multiplied by the entire group size. Thus this leads to potential high level of latency in feedback from the group, not to mention the opportunity cost to other usage of the radio link.

Some of the main problems when approaching these larger scale multicast feedback mechanisms is how best to use the wireless channel to maximise the resource available. Usually base stations have finite resources for computation and poorly designed systems can cause latency in transmission. An example could be a huge number of cars in a city grid, a multicast transmission of information is sent to all users in the group.  In this use case, feedback using normal methods such as unicast, would consume a large portion of the resources available because the current approach mandates each feedback message from each user would be computed individually at the base station, this means the total time taken for all feedback messages to be computed and understood is the number of users in the group multiplied by the computation time of one. This approach is not feasible for huge numbers of users.

In this thesis, an information centric feedback mechanism for multicast signals shall be investigated. The information centric mechanism shall be first investigated through literature, then will be implemented in a simulation environment.  In this context, based on the current standard of 3GPP LTE \cite{3gpp36321}, the feedback mechanism of the unicast shall be extended to allow efficient multicast feedback.

The TBMA approach for feedback mechanism shall be investigated to understand what are the key performance indicators to allow for successful and improved accuracy in decoding the information sent along the channel. In particular, the number of users, normalised power, style of encoding the channel and the amount of re-transmissions of the data with play a centric role in deciding what is best. Upon understanding the aforementioned parameters a proof of concept practical implementation for the LTE network would be presented using srsLTE open source SDR project.~\cite{srsLTE} 


\subsection{Problem and Context}\label{prob_context}

In classical device centric communication, the source and the channel are encoded separately, thus the channel is independent of the data \cite{shannon_theory}. Many different approaches exist for the classical device centric communication approach, CDMA, TDMA and FDMA \cite{multiple_access_protocols}.  However information centric communication (ICC) approaches the problem differently, by jointly encoding both the the source and the channel. ICC utilises the knowledge of both, source  and channel coding, which means that prior to transmitting the information, all parties involved in the ICC transmission are aware of how the channel is encoded and what the encoding scheme means~\cite{information_centric}.
The question for this thesis is how can the design of the MAC best suit an information centric approach. How can the MAC be designed jointly for encoding both the source and channel.

If we consider two situations in wireless communication when multiple users are transmitting information simultaneously, constructive and destructive interference. If we consider when two waves come close to one and other, their effects in essence add together, depending on the waves phase, dictates whether this is constructive or destructive. Constructive interference occurs when the maxima of the waves are in phase, such that the amplitude of the resulting wave is equal to the sum of the individual amplitudes. Conversely when the maxima of the waves are 180 degrees out of phase, the resultant amplitude of the waves is 0, thus in effect these waves cancel each other out. The affects of being in or out of phase can be viewed in \cref{fig:wave_inter}.

In the context of multicast feedback, which inherently is more than one user responding to a group transmission this can be a problem in transmitting the feedback information as undesirable destructive interference can result in the final waveform received at the eNB being unusable due to the combining waves destroying each other. Conversely, the interference can also play in the favour of the feedback, waves in phase would have an additive nature on the final reading at the eNB.

% If we consider the TBMA approach, on a high level view, we can see that to access the channel there are no strict requirements other than encoding their respective data and transmitting. If we consider this situation as is, we would think that the if all users transmit their signal at roughly the same time, the individual decomposition of the signal is difficult.   interference occurs when the maxima of two waves are 180 degrees out of phase: a positive displacement of one wave is cancelled exactly by a negative displacement of the other wave. The amplitude of the resulting wave is zero, this effect can be seen in \cref{fig:wave_inter}. In a classic approach TBMA could be susceptible to destructive interference due to having no constraints on time of transmission, however as we are interested in the collective consensus of the signal, this potential interference plays in the favour of TBMA. 

\begin{figure}[H]
    \centering
    \includegraphics[
      width=6cm,
     height=7cm,
    keepaspectratio,]
    {interence_waves.png}
    \caption{Constructive and Destructive wave interference \cite{interference_pic} }
    \label{fig:wave_inter}
\end{figure}

Consider two similar scenarios in a multicast transmission from a base station, the base station transmits some information to all its grouped users. First the eNB wants feedback information about, for example, the quality of the downlink channel . As TBMA is information centric, each encoded subcarrier on transmission has a particular non arbitrary meaning, which in the case of host-centric may not be true. As we jointly encode the source and the channel, potential interference should be mitigated which could be introduced in host-centric approaches. Second, the base station instead of feedback information, wants normal uplink traffic, which could be any kind of arbitrary data from a user, in this case, more conventional device-centric approaches may be of better use. In this thesis we show that significant gains can be realised in estimation quality and in system resource consumption if the physical layer and the multiple access are designed jointly for the purpose of estimation, not just explicit value retrieval.

Using information centric approaches such as TBMA, would allow simultaneous usage of the resources available and substantially reduce the latency of the feedback. Users in a massive sensor network would allow for different types of information to be fed back to the base station. In LTE different modulation schemes exist which are used depending on the quality of the wireless channel. Modulations scheme play a key role in adapting to noisy environments and allow for consistent and efficient transmission of data. One such indicator which plays a role in the type of modulation used in data transmission is the Channel Quality Indicator (CQI). Consider the scenario when multiple users receiving unicast transmissions, each UE, could be anywhere in the cell region with unknown obstacles or interference, this means that there exists the situation when different modulation schemes are being used for different UEs attached to the base station. 

In the case of multicast user groups, it is not possible to modulate a single multi cast in different schemes, instead a single scheme is needed for a single multicast to many users, this scenario in itself elicits the same logically inefficient error we see in the aforementioned paragraph as all users in the group would need to relay their own CQI. Instead, a better approach to understand the collective consensus of the CQI and thus deriving the bare minimum modulation needed for a sufficient transmission would be via a TBMA approach where each user constructs a PMF of their CQI history for a given time period, this would allow the eNB to better and more efficiently adapt their multicast transmission to best suit the users. If we look at \cref{fig:pmf_subcarriers}, we can see that how we could understand a collective TBMA transmission, with the source and channel encoded with a particular goal in mind. This example of an CQI transmission could be exactly what is needed for a base station to understand an overall idea of how the multicast channel is performing. Thus choosing an appropriate modulation scheme which would suit the masses. 

\begin{figure}
    \centering
    \includegraphics[
      width=8cm,
     height=12cm,
    keepaspectratio,]{cqipmf_subcarrier.png}
    \caption{PMF of all users results of feedback across available subcarriers.}
    \label{fig:pmf_subcarriers}
\end{figure}

Given the above example, we can see how it is no longer important to understand what every individuals exact measurement is, rather it is more important to get an overall understanding of how good the channel quality is for the majority of the users in a group. Under this premise, we do not need to know that i.e exactly 15 UEs had a CQI of 6 and 8 UEs had a CQI of 12. In this situation the granularity of the data is less important. Knowing this information can allow sensible choices of modulation schemes by the base stations and better use of radio resources as an overall, whilst satisfying the overall needs of a group instead of the individualistic. 

\subsection{Thesis Structure}
%% overall general structure of the thesis and what to expect.
The thesis is structured as follows; firstly a short introduction will be given in \cref{intro}, next the problem we are facing and context of why this approach is ideal in \cref{prob_context}. With some background motivation understood, we would move onto the current state of the art approaches for feedback in LTE and multiple access methodologies which is found in \cref{sota}, this section presents also the current process in the LTE framework of how feedback mechanism work. Next, we would move then into the \cref{tbma_sec} where the system model for TBMA is presented and discussed. This will give the basis of the mathematical model which is to be understood for TBMA. Data specific models are then presented in \cref{data_models} based on potential use-cases for TBMA, this will illustrate how TBMA could be applied to different data models in the real world. Once the model is understood, the process of how we can estimate the parameters based on our model is then presented in \cref{param_estimation} and discussed, this is broken down based on a random complex channel and an identical channel \cite{tbma}. After we set our theoretic framework, some examples of real world applications of TBMA are presented in an illustrative and informative manner, showing how the different subcarriers and channel structure should look, see \cref{schemas_and_channels}

Next, we would move on to the simulations and numerical analysis of the results of TBMA, comparing different features of the channel architecture that we can exploit to tune our results and optimise the channel, see \cref{sim_results}. Next a discussion on the application to the LTE network in depth and how thee feedback could be achieved given the current LTE implementation, this is discussed and presented \cref{lte_app}. A proof of concept implementation based on the open source project srsLTE is presented and tested in a more realistic environment than the simulation in \cref{srslte_poc}. Finally, future steps and outlook of TBMA are presented in \cref{summary_out}. 
%% in the introduction i present the overall idea of what 5G communication is, some overview on the applications of the 5g and some potential drawbacks as we move into this new age of IoT and the ever expanding number of users in a network.


\section{State of the art} \label{sota}
\subsection{Multiple Access Methods}
This section gives an overview of the current state of the art approaches for multiple access channel methodologies and how feedback mechanisms currently work in the LTE framework. A problem which is obvious in wireless communication, is how to share a common medium. A radio resource can be thought of as a proportion (this can be multiplexed by time, frequency or code) of the wireless radio medium which is available \cite{access_tech}. Although this thesis is not interested explicitly in traditional multiple access methodologies, some background on how they function is a good basis to understand and emphasis the utility of TBMA in the thesis's context. 

\subsubsection{Device centric}
% in a convential method how comms works, is resources time/spectrum res. and they are shared between all users in an orthogonal way. time/freq/code or both time/freq. give examples of their use cases. very high perspective. lots of overhead. short paragraph on access protocols. how its done is specfied by the method. orthogonality is the bottleneck, needs sync coord, etc. 
%% standard SoTA, here i compare the  different access technologies typically found in wireless mediums, showing the positive points and negative points of each. then finally a short summary on why they are not good for huge networks with given constraints. 
% h


Communication channels need to be designed to meet certain requirements and with the ability to handle many users or increased efficiency of limited resources. Firstly, looking at multiple access method for the wireless channel which are host-centric approaches, currently there exists three primary methods of multiple access (there are many variations on these). Time-division, Frequency-division, Code-division are to be outlined next with their respective advantages and disadvantages. Lastly we will examine how the feedback mechanisms work currently in the LTE framework, looking at how the different metrics are encoded and transmitted back to the base station.  \newline

\textbf{TDMA} - Time Division multiple access,  relies on signals which have been digitised and is based on time division multiplexing \cite{tdma_info}. TDMA in essence allocates different time slots for the users of a channel to transmit their data. In TDMA systems, the spectrum of the available radio is divided into user specific time slots, only the allocated user can transmit on that respective slot \cite{tdma_info}. In \cref{fig:tdma_figure}, the cyclical style of the TDMA can be seen, each user takes their turn gaining access to the channel. TDMA uses preambles to provide identification and incidental information used at the receiver \cite{tdma_info}.

\textbf{CDMA} - Code division multiple access uses spread spectrum techniques, meaning each user is not allocated a particular frequency, instead they utilise the full available spectrum. CDMA transmissions are encoded with pseudo-random digital sequences, which are seperated by orthogonal codes\cite{cdma_info}. The receiver knows the user specific code sequence and uses said sequence to decode the received signal, this is possible because the cross correlation between different users is small. This can be achieved as the bandwidth of the code signal is chosen to be vastly larger than the information signal, the encoding spreads the signal across the entire spectrum \cite{cdma_info}. \newline


\textbf{FDMA} - Frequency division multiple access (FDMA) assigns users an individual frequency band of the entire available wireless channel frequency, this can be viewed in \cref{fig:fdma_figure}. Each users' channel is allocated on demand when entering the cell region \cite[Section...]{fdma_info}. All active adjacent frequencies in a cell are divided by a guard band to reduce cross talk between channels. FDMA is based on frequency division multiplexing and each user has a separate frequency for both uplink and downlink \cite{fdma_info}.  


\textbf{OFDMA} - Orthogonal frequency division multiple access (OFDMA) is the multi user variant of orthogonal frequency division multiplexing (OFDM), where multiple access is achieved by assigning different sub carriers to different users. This approach allows simultaneous data transmission from several users. The OFDMA approach means the radio resource is two-dimensional (2D), contiguous or non contiguous sub carriers span the frequency and at the same time an integer number of OFDM symbols span the time domain\cite{ofdma_info}.


% how the access is different here. based on 
\subsubsection{Information centric}
% instance of information centric protocols 
%  multiple devices share the same resources, based on this type based .
\textbf{TBMA} - Type Based Multiple Access, TBMA is also an orthogonal access scheme, however there is one key difference between TBMA and the aforementioned access schemes. TBMA is an information centric approach, meaning that the source and channel are jointly encoded for transmission. In information centric communication, the users have prior knowledge of how the the channel is to be encoded and how the source is to be encoded. This means that for example, all the users in a TBMA transmission are not as flexible to send arbitrary information as the aforementioned counterparts, however this is not the goal of TBMA. TBMA is a method to be used when there are commonalities in the transmissions or when the data to be transmitted amongst all the users of TBMA is sharing some similar goal. Conversely this differs greatly to the arbitrary source encoding which occurs in the likes of TDMA,CDMA and OFDMA etc. it could be said that these approaches are device centric meaning the source is not jointly encoded. 

\subsection{LTE feedback methods}\label{lte_feedback_current}


%  describe highlevel what is going on in gerneral 
% lte is a current stadnard used for operating, mobile stations comms with one of the previous conventions mentioned before.  to coordinate everyyhinf we need this feedback information, link quality. etc . give an overview of the whole proces with respect o how CSI ans ack/nack plays a role. check lte textbooks for definitions of CSI or such.

% spend some time really defining the different aspects of the elemtns beign used , i.e ue , enb, etc.

In the current LTE framework, both uplink and downlink transmission are possible. Multicast transmission is downlink traffic data which is disseminated from the eNB to the UE(s), feedback from the multicast transmission is uplink traffic. However, as discussed in the previous sections, we can see there is no dedicated feedback mechanism for multicast transmission. In LTE the eNB is interested in a plethora of metrics which are beneficial for increasing the efficiency of servicing the UEs. 

LTE has many different coding schemes which are used based on the quality of the channel which is influenced by interference from other cells and noise.  Link adaptation is a crucial aspect of LTE that allows for the most efficient and robust transmission of data \cite{umts_sesia}[Section 10.2]. LTE architecture has many layers for different purposes, in the case of this thesis and feedback, we are most interested in the Physical layer and the MAC layer. Looking at the specification from 3GPP we can see how the current breakdown of feedback mechanisms look. Currently, there exists both periodic and aperiodic feedback from the UE to the eNB, these types of feedback can either be on the PUCCH or the PUSCH, depending on the type of feedback requested and the configuration \cite{ETSITS136213}[Section 7.2]. 

To understand the feedback mechanism in better detail, an overview of the propagation of the channel structure is needed. For the scope of this thesis, in the respect of the LTE network, the uplink and downlink are of note to us. In LTE the downlink channel is any traffic which is transmitted from the evolved node B (eNB) to user equipment (UE). Conversely uplink channel is any information transmitted from a UE to the eNB. Although there are many layers in the LTE network, we are interested in the physical, transport channel and logical channel. The mapping of these channels and their direction in with respect to uplink and downlink can be viewed in the  \cref{fig:lte_chan_prop}.

\begin{figure}[h]
    \centering
    \includegraphics[
      width=8cm,
     height=10cm,
    keepaspectratio,]{uplink_scheme.jpg}
    \caption{LTE channel propagation}
    \label{fig:lte_chan_prop}
\end{figure}

The data initially enters the logical channel, which provide services for the Medium Access Control (MAC) layer within the LTE protocol structure. Next the data is then multiplexed to the transport channel which offers information for the MAC and higher layers, via the UL-SCH. Finally the data reaches the physical channel. This outlook is important to understand where the origins of the feedback information are coming from. In LTE the physical layer itself does not decided on the feedback information, it merely is responsible for encoding and decoding. The MAC layer on the UE is where the multiplexing of data and feedback indicators the UE would transmit on the uplink about channel quality, these in the LTE framework are known are Channel Quality indicators (CQI, which will be explained in details in later sections). Other mechanisms such as data delivery verification through HARQ ACK/NACK are used to ensure the data sent was indeed received correctly. These two methods amongst others are processed in the MAC layer. \cite{3gpp25319}[Section 7]. The scope of this thesis focuses more on the physical aspects of LTE, thus outlining the main channel of importance below;

\begin{itemize}
    \item PUCCH - used for control data, this data is transmitted in the form of Up-link control information. This usually contains information related to Scheduling request, HARQ ACK/NACK and CQI. 
    \item PUSCH - this is the main user data channel, in certain conditions it also carriers the UCI and feedback metrics ACK/NACK and CQI.
\end{itemize}


\textbf{CQI} - Channel quality indicators, are as the name would suggest indicators which represent the quality of the channel at a given point in time, these are used to understand which kind of modulation the eNB should use. \newline
\textbf{ACK/NACK} - Acknowledgement and Not Acknowledgement , these pieces of information are transmitted back to the eNB to verify that the data received was not corrupted and its integrity was in tact, these features will be explained in greater details in the next section.

\subsubsection{Channel State indicators}
As discussed previously, metrics or indicators about the channel are utilised in the LTE framework. The indicators are used to adjust the configurations of the transmission of data to best serve the conditions that are currently being experienced at that moment in time. 

At a high level we can group these feedback items as channel state information (CSI) , which can be broken down into; CQI - channel quality indicator, this metric gives insight into the quality of the channel at any given time. The quality of the channel can be influenced by many factors, i.e the environment, other users etc. The value of CQI can be between 1 and 15, or if the CQI index if 0 then the index of 1 does not satisfy the condition that the transport block error probability has not exceeded 0.1 \cite{ETSITS136213}[Section 7.2.3]. The CQI is then used to decide which modulation scheme to use and the relevant transport block size, depending on the quality of the transmission \cite{ETSITS136213}[Section 7.2]. 

Dependant on the configuration of the UE the aforementioned CQI feedback is realised through different architectural approaches. Both, time and frequency resources and configurations are chosen by the eNB in the serving cell region, these mechanisms can be either periodic or aperiodic \cite{ETSITS136213}[Section 7.2]. In the event of the both a periodic and aperiodic report being transmitted in the same sub frame, the aperiodic report takes priority and thus, would be only transmitted.  Depending on the scheduling mode of the UE and whether the CQI to be transmitted is either periodic or aperiodic would dictate which channel is to be used, we can see the possibilities for these in \cref{tab:cqi_aperiod}

The respective channels for aperiodic and periodic transmission are shown below;
\begin{table}[H]
        \centering
     \begin{tabular}{||c c c||} 
     \hline
     Scheduling mode & Periodic CQI & Aperiodic CQI  \\ [0.1ex] 
     \hline\hline
     Frequency non-selective & PUCCH &  \\ 
     \hline
     Frequency selective  & PUCCH & PUSCH\\
     \hline
    \end{tabular}
    \caption{Periodic vs Aperiodic transmission and their respective channel.}
    \label{tab:cqi_aperiod}
\end{table}


The aperiodic reporting of CQI is done on the PUSCH. On the other hand, periodic reporting regardless of the selective or non selective is done on the PUCCH. The exact type of the CQI is configured on the eNB through the RRC signalling. CQI reporting has a few distinct types \cite{umts_sesia}[Section 10.2.1.1]. 
\begin{itemize}
    \item Wideband feedback - UE reports a CQI value for the whole system bandwidth available.
    \item eNB configured Sub-band Feedback - UE transmits the entire Wideband CQI report, additionally a CQI value for each sub-band is also transmitted.. Sub-band CQI reports are encoded deferentially with respect to the wideband.
    \item UE selected sub-band feedback - The UE selects a set of preferred sub-bands of a predefined size within the entire bandwidth.  The UE reports one wideband CQI with one CQI report reflecting the average quality of the predefined size. The UE will also report the position of said sub-bands.
    
\end{itemize}

If the respective CQI field is not reserved for other purposes then the appropriate field bit can be toggled. The combinations of the triggering mechanism for this report can be viewed below \cite{ETSITS136213}[Section 7.2.1]: 

\begin{table}[H]
    \centering
     \begin{tabular}{||c c||} 
     \hline
      CSI request field & Description \\ [0.1ex] 
     \hline\hline
     '00' & No aperiodic trigger  \\ 
     \hline
     '01'  & Aperiodic report for serving cell\\
     \hline
     '10' & Aperiodic for 1st set of serving cells\\ 
     \hline
     '11'  & Aperiodic for 2nd set of serving cells\\
     \hline
    \end{tabular}
    \caption{Periodic vs Aperiodic transmission and their respective channel.}
    \label{tab:cqi_aperiod}
\end{table}
These respective trigger values are decoded by the UE on the PDCCH with an uplink DCI format in the UE specific search space \cite{ETSITS136213}[Section 7.2.1, Table 7.2].
It is worth noting that there exists a minimal reporting interval for any aperiodic transmission, which is 1 sub frame. Furthermore, when aperiodic feedback occurs with no associated transport block of user data, the UE shall utilise the PUCCH instead of the PUSCH.

As discussed earlier, periodic reporting of the CQI also occurs in LTE. UEs are semi-statically configured by the higher layers for periodic reporting of such metrics, which are present on the PUCCH apposed to the PUSCH \cite[Section 7.2.2]{ETSITS136213}. Like most features in the LTE framework, there exists an abundance of possible configurations. Like Aperiodic reporting, periodic reporting supports both wideband and ue-selected sub-band, however eNB-selected is not supported. Similarly, the type of periodic reporting is configured by the eNB higher signalling layers, RRC \cite{umts_sesia}[Section 10.2.1.2]. Periodic wideband feedback is similar to that of the aperiodic which is sent along the PUSCH, however the ue-selected sub-band is different. In UE-selected sub-band, the total number of sub-bands $N$ is divided into $J$ fractions called bandwidth parts. The value of $J$ is dependant on the system bandwidth, in this case, one CQI value is computer and reported for a single sub-band from each bandwidth part, along with its respective sub-band index.

PMI - Precoding matrix indicator is used to determine how the individual data streams (layers in LTE) are mapped to the antennas on the UE. Carefully selecting this matrix yields the maximum number of data bits that the UE can receive on across all layers. If the UE knows what the allowed precoding matrix are, then the UE can send a PMI report to suggest to the eNB the most suitable matrix to use \cite{csi_defs}.

RI - Rank indicator,  this is the number of layers and number of different data streams transmitted in the downlink. The aim of an optimised RI is to maximise the channel capacity across the entire available bandwidth by taking advantage of the each full channel rank  \cite{csi_defs}. 

\subsubsection{ACK/NACK}

Additionally the LTE framework has another form of feedback that is also transmitted on the PUCCH. The Hybrid Automatic Repeat Request (HARQ) is also utilised. The HARQ consists of two parts, firstly the ARQ in LTE is a mechanism that as the name suggests repeats the request if an acknowledgement (ACK) is not received by the sender after a predefined timeout period.  After this timeout period the receiver discards the bad packets and the sender will re-transmit. The next step is the Forward Error Correction (FEC), this process takes the malformed data packets and stores them in a buffer until the next transmission, the idea is that 2 or more packets received with insufficient information to decode them alone can be combined together in such a way they can produce a signal that can be decoded \cite{3gpp36321}[5.3.2 HARQ operation].

The process of getting from a raw ACK/NACK value to the  the physical encoding of the particularly chosen format is described in various specifications from 3GPP. The overall process is as follows (steps discussed in further details in subsequent paragraphs):
\begin{enumerate}\label{proc_pucch_configs}
    \item The UE would verify the configuration of the PUCCH, this is detailed in Section 5.4 36.211, this 
    \item Procedure for determining PUCCH assignment 10.1 36.213 The 3GPP Specification outlines the explicit rules and combinations that the PUCCH can take. This section outlines the combinations of non/simultaneous and single/multiple cell transmission over PUCCH and PUSCH. This section also outlines the information which is to be transmitted in based on the choice of format. 
    \item How the PUCCH bits should be encoded according to Table 5.4.1-1 in Section 5.4.1 of 36.211, this table outlines the modulation scheme to be adopted and the number of bits per sub frame according to the chosen format.
    \item Finally, how to map PUCCH symbols to physical resources according to 5.4.3 in 36.211, this is described in greater detail in  
\end{enumerate} 
The HARQ mechanism in LTE is encoded into the UCI and carried usually on the PUCCH, however dependant on some conditions can also be carried on the PUSCH. The UCI format dictates the type of feedback metric to be transmitted, which we can see in the \cref{tab:pucch_formats} \cite[Section 17.3.1.2]{umts_sesia}. 

\begin{table}[h]
\centering
\begin{tabular}{||c| c||} 
\hline
PUCCH Format & Uplink Control Information (UCI) \\ [0.1ex] 
\hline\hline
Format 1 & Scheduling request (SR) (unmodulated waveform)\\ 
\hline
Format 1a & 1-bit HARQ ACK/NACK with/without SR\\
\hline
Format 1b & 2-bit HARQ ACK/NACK with/without SR\\
\hline
Format 2 &  CQI (20 coded bits)\\
\hline
Format 2 & CQI and 1 or 2-bit HARQ ACK/NACK ex CP\\
\hline
Format 2a & CQI and 1-bit HARQ ACK/NACK (20 + 1 coded bits)\\
\hline
Format 2b & CQI and 2-bit HARQ ACK/NACK (20 + 2 coded bits)\\
\hline
\end{tabular}
\caption{PUCCH formats and their properties}
\label{tab:pucch_formats}
\end{table}


%% sufficient to use the coding scheeme not further explaination. the drawbacks being the coherent - use pilots , and a lot of redunant resources being used , 12 bits of information being sent. 
The HARQ ACK/NACK procedure occurs when a the UE receives some user data on the PDSCH. The UE will then perform its integrity check on the received data and depending on the current setting will trigger a ACK/NACK response to the received payload. Upon receiving a payload from the eNB, the UE can send its ACK/NACK response on either the PUSCH or PUCCH, if there is no user traffic in the uplink then the UE will transmit its response on the PUCCH, however, if there is user traffic (this is visible when there is a valid uplink grant from the UE), the response is encoded into the PUSCH \cite[Section 11.4]{lte_advaned_mobile}. The procedures flow can be viewed in \cref{fig:ack_nack}. 

\begin{figure}[h]
    \centering
    \includegraphics[
      width=8cm,
     height=10cm,
    keepaspectratio,]{ack_proc.jpg}
    \caption{LTE procedure for ACK/NACK response.}
    \label{fig:ack_nack}
\end{figure}

When the PUCCH is being utilised to transmit the feedback control data, a region of 2 resource blocks is assigned for the UE. The two resource blocks are mirrored and placed at either sides of the bandwidth to provide some integrity and spread diversity in the signal \cite[Section 11.4.1]{lte_advaned_mobile}. However, each UE having 2 resource blocks during on sub frame is much to large and not very good utilisation of resources, instead these resource blocks are shared amongst multiple UEs in a serving cell.  We can see from \cref{fig:pucchformats} that each slot (half of a sub frame), has the relevant uplink information doubly encoded at either end. If we consider the feedback for a given UE/set of UEs is transmitted we would see for example that same information is present in both cases of the $m=2$ in the \cref{fig:pucchformats}. Multiple UEs share the same regions of a sub frame mentioned before, 


\begin{figure}[h]
    \centering
    \includegraphics[
      width=6cm,
     height=8cm,
    keepaspectratio,]{pucch_formats_rbs.png}
    \caption{Resource Assignment PUCCH Format 1/2}
    \label{fig:pucchformats}
\end{figure}


As we see in \cref{tab:pucch_formats} is possible to multiplex both the CQI and HARQ ACK/NACK data from a UE to the eNB on the PUCCH, providing the higher layers have not disabled this feature, when this is disabled the UE may only transmit the HARQ. However, in sub frames where the eNB scheduler has allowed for simultaneous transmission of both metrics a multiplex of both aspects needs to be achieved. In this case there are two situations of note, for normal CP and extended CP \cite{umts_sesia}[Section 17.3.3]. 

Looking first at the multiplexing of CQI and HARQ with normal cyclic prefix (DCI format 2a/2b). To transmit a 1 or 2 bit HARQ ACK/NACK together with the CQI, the ACK/NACK bits are not scrambled, but only modulated with either BPSK/QPSK, resulting in a single modulation symbol $d_{HARQ}$.  This single modulation symbol $d_{HARQ}$ is then used to modulated the second Reference Signal (RS) symbol in each CQI slot, meaning the ACK/NACK is actually signalled through the RS itself.



%% should i add in here more information about the super specifics about subframe allocation etc???

\section{Type Based Multiple Access}\label{tbma_sec}
% this could be more context of LTE apposed to generic, 
% move the generic stuff , move into the sota. 
In this section, we will go into greater detail about the systems model for TBMA to be realised. Next, potential data models are then presented and discussed. Thirdly, how the parameter estimation of the TBMA is presented for both identical and random channels. Finally, potential LTE transmission schemes are presented and discussed with applications within the LTE framework. 

\subsection{System Model}\label{sys_mod}
% give more generic approach about TBMA in general. n

We will present and discuss the system model for TBMA. To begin, we should first look from a high level what exactly is happening. In a simplistic manner, TBMA is a method of transmitting information when the source and channel are jointly coded. To easily understand this concept we should first look at the likes of host-centric approaches, where the channel and source not jointly designed. In Host-centric systems, the channel is designed to handle data transfer regardless of the source it has come from. Likewise the source is designed irrespective of how the channel looks. Host-centric approaches may be beneficial for arbitrary data when the information of each specific device is of interest. However, in the case of TBMA, we may not actually be interested in the specific information each user has, rather combined information that can yield metric of interest, such as PMFs. 

In layman's terms, TBMA can be viewed up as an approach to transmit data when the sender and receiver adhere to a coding scheme on both the channel and the sources. If we take a given signal $s$, that each user, $k$ in the group will transmit along a channel $h$. When $s$ and $h$ are jointly designed with the design known to all actors in the environment. Given this rhetoric, we can see that for each of the given signals $s$ convoluted with the channel $h$, then the final outcome of this type of transmission can be seen as $\sum h \cdot s$. As discussed, this is a simplified view of what is happening. Next we discuss a more accurate representation of the model. 

%  here is where the  generic tbma finishes. 
First, we  consider a set of User Equipment (UE) or nodes, where ${k}$ of ${K} = K$, these $K$ nodes observes various data outcomes which are conditionally independent and identical distributed (i.i.d). Each UE jointly observes data, $X^i_1, \ldots, X^i_K$, given a parameter $\theta$ and $i$ being the observed index. It is assumed that every observation  ${X^i_k \in \{1, \ldots, R\}}$, takes only discrete values with a probability mass function (PMF) ${p_{\theta} = [p_{\theta}(1), \ldots, p_{\theta}(R)]}$, where each $p_{\theta}$, corresponds to a certain real world value. The PMF belongs to a family, $\{p_{\theta}: \theta \in \Theta\}$ where $\Theta \subset \mathbb{R}$ is the parameter space.

% $\mathcal{K} the set of all devices: \mathcal(K)=\{1...K\}$


The local observation of each UE is given by the $X^i_k$. For each UE in the network to access the wireless channel according to the TBMA approach, a UE would transmit its available encoded subcarriers in a waveform such that, $\boldsymbol{s} \in \mathbb{C}^{N \times 1}$, where the outcome of the observation determines which subcarrier is selected (this corresponds to the jointly designed channel and source, where each available subcarrier corresponds to a design choice. i.e. subcarrier 7 =  CQI values of 7) from the orthonormal signature matrix $\boldsymbol{S} \in \mathbb{C}^{N \times R}$, below in \cref{fig:sig_mat}, we can see a simple example of a signature matrix.

\begin{figure}[ht]
\centering
    $\begin{pmatrix}
\pm1 & 0 & \hdots & 0 & 0\\
0 & \pm1 & \hdots & 0 & 0 \\
\vdots & \vdots & \ddots & \vdots & \vdots \\
0 & 0 & \hdots & \pm1 & 0 \\
0 & 0 & \hdots & 0 & \pm1 \\
\end{pmatrix}$
\caption{$n \times n$ Signature matrix example.}
\label{fig:sig_mat}
\end{figure}

Before presenting the TBMA equation in full, lets look at how the different aspect fit together. Based on the description of TBMA, we know that the idea of this approach is to jointly design the channel and source for a goal orientated purpose. Thus, when we think about the formulation of the equation we would expect there to be a resemblance of this idea.  We consider that a group of users, $K$, all want to transmit their information in the case of LTE to a common eNB. Each of $k$, has a predefined selection of subcarriers available to encode the outcome of their observation in, $S_X$, each of these users, $k$ will in turn transmit their symbols and observation $S_X$ along a wireless medium, $h$, which is modelled as being different for different users, but the same across a given $S_X$ transmission, for each user. Based on these assumptions how the definition of TBMA fits in, we can see that at the fusion centre we must sum all of these signals to attain the overall waveform, this is important, as this plays on the fact that the signal and channel are designed with a goal in mind. Additionally, due to the additive nature of a wireless medium the received signal at the $i$-th is actually observed at the fusion centre as;

\begin{align}
    \boldsymbol{y}^i = \sum_{k \in \mathcal{K}} h^i_k \boldsymbol{s}_{X^i_k} + \boldsymbol{w}^i, \label{eq:system_model}
\end{align}
where $h_k^i$ is the complex channel, which is assumed to remain constant during any given $i$-th transmission but differ between $k$. We observe the modelled noise, $w^i$ as being $\mathcal{CN}(0, \sigma^2 \boldsymbol{I}_N)$. The equation presented in \cref{eq:system_model}, outlines how each user transmits their respective payload encoded into the available subcarriers across a wireless channel medium subject to some distortion depending on the environment, this signal is then gathered, summed and finally some complex white Gaussian noise is added.


After observing a received signal, the fusion centre will apply matched filters to the orthonormal basis $\left\{ \boldsymbol{s}_r\right\}_{r \in [R]}$ which gives
%
\begin{align}
    \boldsymbol{z}^i &\triangleq \left[\langle \boldsymbol{y}^i, \boldsymbol{s}_1\rangle, \ldots, \langle \boldsymbol{y}^i, \boldsymbol{s}_R\rangle  \right]^T, \label{eq:mf_output}
\end{align}
%
where $\langle \boldsymbol{y}^i, \boldsymbol{s}_r\rangle$ denote the inner product of the received signal and $\boldsymbol{s}_r$ at the $i$-th transmission. Where the matched filter is the scalar product of $y$ with the orthonormal signature, because the signature is orthonormal, all the other information in the signal is removed and thus is matched to the desired signature we can see this effect in \cref{fig:sig_mat}. 

There exist some constraints and assumptions for the system model. It is assumed that the energy constraint $||s_{i}^2|| \leq 1$, where the signal of each transmission does not exceed more than 1 energy unit, this means that each user should not transmit their signal with any extra power. This will play an important role later on when we discuss the re-transmission of the signal. It is also assumed that all noise and channel response (when applicable) is modelled as white complex Gaussian.   

\subsection{Data Models}\label{data_models}

Looking at how to model the data, there are three distinct use cases for this section. First looking at how to estimate a single common event value, for example, each user is transmitting either $1$ or $0$, where if the common event occurs, $1$ is transmitted otherwise 0. Next, we move to a more granular approach for estimating a range of common events. Finally we take another step and look at how we could transmit and understand a PMF of real world values. 
\subsubsection{Case~I}
%% JUST ACK EVENT

In the case of this thesis, we are interesting in some applications of the TBMA approach. Consider a set of $K$ sensor nodes, measuring a common event where, ,${X \in \{1, 0\}}$ ${X \in \{1, \ldots, R\}}$. Nodes in the system can be prone to errors or may be out of scope of the event, thus we have a measurement vector of ${x \in \{0, 1\}}$ which is obtained by the followig :

\begin{align}
    \boldsymbol{x}_{[r]} 
    = 
    \begin{cases}
        1 & X = r
        \\[2ex]
        0 & \text{ else}.
    \end{cases}
    . \label{eq:event01common}
\end{align}

In the end, the overall idea of the fusion centre is to obtain the most likely event that occurs. Equation \ref{eq:event01common}, depicts the scenario when all users have a binary event, all users will transmit either a 1 when the common event occurs or a 0. 

\subsubsection{Case~II}
%% CQI INDIVIDUAL
At each node one out of $R$ events occur, where the events can be correlated among all nodes or completely independent. This local event~${X_k \in \{1, \ldots, R\}}$ is measured by each node. Thus, the measurement vector $\boldsymbol{x} \in \{0,1\}^{R}$ of each sensor node in~\ref{eq:system_model} is obtained by
\begin{align}
    \boldsymbol{x}_{[r]} 
    = 
    \begin{cases}
        1 & X_k = r
        \\[2ex]
        0 & \text{ else}.
    \end{cases}
    . \label{eq:event02independent}
\end{align}
Here, the objective at the fusion centre is to obtain the PMF of all measured events by observing~\ref{eq:system_model}. In this case, each available subcarrier $s_i$ for a given user $k$ observes event $x$, where the encoded subcarrier of the event corresponds to a variety of actual values in the real world. This approach allows for different events to be observed and then transmitted.

% \subsubsection{Case~III}\label{case3}
% %%% CQI PMF EVENT
% At each node a PMF~$p_{\theta,k}$ is measured, where the PMF among all nodes can be correlated or independent. Thus, the measurement vector $\boldsymbol{x} \in \mathcal{R}^{R}$ of each sensor node in~\ref{eq:system_model} is obtained by
% \begin{align}
%     \boldsymbol{x} = p_{\theta,k}
%     , \label{eq:event03PMF}
% \end{align}
% Here, as in case~II, the objective at the fusion centre is to obtain the PMF of all measured events by observing~\ref{eq:system_model}. Since each user $k$, already observes and transmits a PMF, the underlying distribution is already well better approximated at the sensor, due to the fact that the received signal at the fusion centre already inherently has the underlying PMF from multiple different sources. Thus, we assume that the performance at the receiver (e.g. the mean squared error) is better than if a single measurement is transmitted like in case~II, this assumption would hold true as more information about any given environment and situation is known to reduce the degree of uncertainty in the measurement.

Case I and II will be illustrated again in Section \ref{schemas_and_channels}, where they will be presented in the form of a real world example. 

\subsection{Parameter Estimation}\label{param_estimation}
%% here i talk about how to estimate the parameter or pmf of the transmitted signal, again i split this into both h=1 and random. 

As presented in the previous section, we are interested in three different data-model use cases. The idea of a TBMA  approach is to best design the channel so that the error of the estimated parameter can be minimised, such that it tends toward 0.  In some cases, we may want to determine an estimate of the actual parameter, $\theta$, in other cases we are interested in the underlying PMF, $p_{\theta}$ of the data transmitted. Respectively they are formally defined as:

\begin{align}
\hat{\theta}^* = \min_{\hat{\theta}} D(\hat{\theta}\|{\theta}),      
\end{align}

\begin{align}
\hat{p}^* = \min_{\hat{p}} D(\hat{p}\|p_{\theta}),  
\end{align}

Where, $\hat{\theta}$ and $\hat{p}^*$ are the parameter and PMF of the received signal respectively which exist in the defined probability space $[R]$.  We assume that there is no prior knowledge of the parameter $\theta$ or $p_{\theta}$, since the idea of the approach is to derive an estimate of the distribution of the data.


\subsubsection{Identical Channel}\label{det_chan}

It is assumed that the data is i.i.d between sensors but constant during different observation periods. For the specific case of identical channels ${(h^i_k = 1, \forall k)}$, the output of the bank of matched filters in Equation (\ref{eq:mf_output}) contains a noisy version of the histogram, scaled by the number of users, written as
%
\begin{align}
    \boldsymbol{z}^i &= K \tilde{\boldsymbol{p}}^i + \boldsymbol{v}^i, 
\end{align}
%
where $\tilde{\boldsymbol{p}}^i = \frac{1}{K}[N_1^i, \ldots, N_R^i]$ is the \emph{empirical measure} or \emph{type} with
\begin{align}
    N_j^i = \sum_{k \in \mathcal{K}}\mathbb{1}(X^i_k = j)
\end{align}
and $\boldsymbol{v}^i \sim \mathcal{CN}(0, {\sigma^2 \boldsymbol{I}_R})$, which is the complex Gaussian noise.
%
Therefore in the case of this deterministic channel, the estimate can directly obtain the histogram from the $i$-th measurement as:
%
\begin{align}
    \hat{p}^i &\approx \boldsymbol{z}^i / K. \label{eq:empf_h_const}
\end{align}

Given the above estimation method, we observe some notable pieces of information, for $K \rightarrow \infty$: The estimate (\ref{eq:empf_h_const}) converges to the true PMF in the region of high SNR values where the noise is playing less of an influential role on the measurement, i.e.~$D(\hat{p}\| p_{\theta}) \rightarrow \infty$. Conversely, with low SNR values, we can improve the estimator can be by averaging over multiple observation times $i$, this approach could be employed when SNR is low, however a trade of may be the additional re-sampling. 

For $K <\infty:$ The estimated PMF (\ref{eq:empf_h_const}) describes the current sample but ~$D(\hat{p}\| p_{\theta}) \neq 0$. With re-sampling over multiple transmission intervals (e.g. by selecting random subsets $\mathcal{K}^i \subset \mathcal{K}$ for transmission during the $i$-th observation interval) different measures of accuracy can be assigned (bias, variance or prediction error) to the sample estimates.

Although the deterministic channel is not a well rounded picture of the real world, it does however give us some insight to underlying aspects of the systems as described in the previous two a paragraphs. This information can help build up a better picture of TBMA moving forward looking into a more realistic situation in the wild.

\subsubsection{Fading Channel}\label{rand_chan}
% add in info on fading channels here
In the real world, it is more often than not less likely that a transmitted and receiver are in a direct line of sight (direct line of sight is a transmission path that is unobstructed or reflected by obstacles in the environment). An example of line of sight can be seen in \cref{fig:line_of_sight}

\begin{figure}[H]
    \centering
    \includegraphics[
      width=6cm,
     height=7 cm,
    keepaspectratio,]{line_of_sight.png}
    \caption{Line of Sight obstruction from obstacles \cite{los_pic}. }
    \label{fig:line_of_sight}
\end{figure}

What tends to happen is that in busy environments there are obstacles such as buildings and walls that will obstruct the path of the disseminating wireless waves. The situation leads to multi path waves arriving at the receiver at different time intervals and power due to the physical affect the aforementioned obstacles have on the physicality of the waves.[ref]

This means that slightly varying waveform of the original signal are received, these can be out of phase and can be viewed from an $x$ and $y$ component, having both real and imaginary values, which can be summed to give a complete imaginary component. This effect can be viewed in Figure \ref{fig:rayleigh_fade_comps}, where the dotted lines are the different aspects of the signal received and the final complex component in bold. 

\begin{figure}[H]
    \centering
    \includegraphics[
      width=6cm,
     height=7 cm,
    keepaspectratio,]{rayleigh_graph.jpg}
    \caption{Rayleigh fading components of signal. }
    \label{fig:rayleigh_fade_comps}
\end{figure}


The amount of fade for each path which is received at the user is considered to be i.i.d and based on the central limit theorem, when adding up multiple random variables for each of the $x$ and $y$ components we attain a Gaussian PDF for each of the axis. If we then consider that each of these Gaussian are independent, the overall PDF can be obtained by multiplying both PDFs together. 

With channel coefficients drawn i.i.d. between sensors and observation intervals $h^i_k \sim \mathcal{CN}(0, 1)$, the output of the matched filter is a vector of random variables, where the pdf of the $j$-th element is given by $p_{\mathbf{z}}(\boldsymbol{z}^i[j]; N_j)$, with  
%
\begin{align}
    p_{\mathbf{z}}(x; \sigma) &= \frac{x}{\sigma^2} e^{\frac{-x^2}{2\sigma^2}} ; 
    \newline 0 < x < \infty
\end{align} 
%
% should i do the proof here for MLE of Rayleigh?
Where the likelihood function of is :

\begin{align}
    L(\theta) = \prod_{i=1}^n\frac{2x_{i}}{\theta^2}e^{-\frac{x_{i}^2}{\theta^2}}
\end{align}
\begin{align}
    L(\theta) = \prod_{i=1}^n x_{i}(\frac{2}{\theta^2})^n e^{-\frac{\sum{x^2}}{\theta^2}}
\end{align}

Then taking the $ln$ log of both sides to simplify:

\begin{align}
    \ln{L(\theta)}= \ln{(x_{1},x_{2}\dots,x_{n})} + n\ln{2} - n\ln\theta^2 {-\frac{\sum{x^2}}{\theta^2}}\ln{e}
\end{align}
\begin{align}
    \ln{L(\theta)}= \sum\ln{x_{i}} \cdot + n\ln{2} - 2n\ln{\theta} -\frac{\sum{x^2}}{\theta^2}
\end{align}

Differentiating with respect to $\theta$, gives:

\begin{align}
    \frac{\partial }{\partial \theta}\ln L{(\theta)} = -2n\frac{\partial}{\partial\theta}\ln\theta - \sum x_{i}^2\frac{\partial}{\partial\theta}(\frac{1}{\theta^2})
\end{align}

\begin{align}
    \frac{\partial }{\partial \theta}\ln L{(\theta)} = -\frac{2n}{\theta} + \frac{2\sum x_{i}^2}{\theta^3} \dots \dots \dots
\end{align}

Now setting the partial derivative of $\theta$ equal to $0$ so we can get a maximum.

\begin{align}
    \frac{\partial }{\partial \theta}\ln L{(\theta)} = 0
\end{align}

\begin{align}
    -\frac{2n}{\theta} + \frac{2\sum x_{i}^2}{\theta^3} = 0
\end{align}
\begin{align}
    \frac{n}{\theta} = \frac{2\sum x_{i}^2}{\theta^3}
\end{align}
\begin{align}
   n\theta^2= \sum x_{i}^2
\end{align}

Thus we attain:

\begin{align}
    \theta^2 = \frac{\sum x_{i}^2}{n}
\end{align}


Hence, rearranging, the unbiased ML estimate of the $j$-th element of $\tilde{\boldsymbol{p}}$ can be obtained after observing $L$ transmissions as
%
\begin{align}
    \hat{p}[j] &= \sqrt{\frac{1}{2L} \sum_{i = 1}^{L}\boldsymbol{z}^i[j]}.\label{eq:empf_h_rand}
\end{align}

% put the appendix

In other words, with a noisy, random complex channel, we can exploit the noise over multiple re transmissions of the exact same information to allow the estimator to reduce the effect of the stochastic noise allowing a more accurate reading to be obtained. 

As the deterministic channel, the complex channel channel also allows us to derive some observations. For $K \rightarrow \infty$: The estimate (\ref{eq:empf_h_rand}) converges to the true PMF as $L \rightarrow \infty$. However, this is not of practical relevance, due to the associated costs in re-transmitting the signal in such high order of magnitudes needed. For $K <\infty:$ With $L \rightarrow \infty$, the estimated ePMF~(\ref{eq:empf_h_rand}) describes the \emph{current sample} but ~$D(\hat{p}\| p_{\theta}) \neq 0$. When we construct the simulation and channel in this manner, we arrive to a more consistent environment with what we would find in the wild.
% channel exmaples or so. mnroe specific. 
\subsection{Application examples} \label{schemas_and_channels}
The idea of how best to form the TBMA channel to maximise the likelihood of estimation of the empirical data. Different use cases exist to best utilise the channel. This next section describe potential examples of different use cases for the aforementioned approach. First, a generic event based encoding is shown. This approach illustrates how any generic event is could be encoded to the channel. Next, the data models from the previous equations, \ref{eq:event01common},\ref{eq:event02independent}, \ref{eq:event03PMF} will be given applications and illustrations.  

\begin{figure}[H]
    \centering
    \textbf{Schema: Generic event.}\par\medskip
    \includegraphics[
      width=12cm,
     height=14cm,
    keepaspectratio,]{events.jpg}
    \caption{Encoding a generic event to the TBMA Channel.}
    \label{fig:generic_events}
\end{figure}

The Schema presented in figure \ref{fig:generic_events}, shows the generic approach for taking any event and encoding it to any given available subcarrier at random. The Figure \ref{fig:generic_events} has the same notation as Figure \ref{eq:system_model} to help visually understand how the equations fit together. The same constraints for the equations apply. Any user in the network can take any available subcarrier, $S$, and encode a single bit which correspond to that of an event in the real world. These events could correspond to any real world values, providing all the users in the network assume the same encoding style. 

With the basic understanding graphically how to encode the channel and how it works in simplest forms, looking next at an LTE specific use case. During a multicast, it would be beneficial for the base station (eNB) to understand if a users in a multicast group has received the message correctly. To do so, a simple ACK response could be elicited by each user for the eNB to understand if the message was received by all user equipment (UE) and whether that information was received correctly, or not. However given current methodology using the physical downlink shared channel (PDSCH) for each user in the group, this would entail each user taking up some dedicated radio resource on a dedicated channel to relay that information to the eNB. 

Consider, a group of $1000$ users, $k$, where each user with the current uplink feedback methods discussed in \cref{lte_feedback_current}, would take time $t$ to transmit each ACK/NACK response on a dedicated channel. Looking at this approach we can already see for the eNB to fully understand how the channel is for these $1000$ users would take $1000t$, for all UEs to convey their respective response about the incoming packets. Clearly, we can see a huge bottleneck begin to occur. 

The aforementioned situation may not be such a issue for small to medium sized groups. However, for larger networks, this would be a time consuming, resource intensive task and is it not efficient. Contrarily, using the likes of TBMA could mitigate these resource issues. The previous example we had a one to one mapping of resource to user, using TBMA we would have a many to one mapping - i.e. $1000$ users would take collectively $t$, apposed to needing time $t$ for each user. We can clearly see here this is a huge advantage as the number of users in a group grows. 

\begin{figure}[H]
    \centering
    \textbf{Schema: Encoded ACK}\par\medskip
    \includegraphics[
      width=12cm,
     height=14cm,
    keepaspectratio,]{acks_png.jpg}
    \caption{Random allocation of ACKs on all subcarriers.}
    \label{fig:ack_schema}
\end{figure}


Figure \ref{fig:ack_schema}, shows how the above process could work. By spreading each users ACK signal across the available subcarrier range. we could introduce signal diversity, by each user choosing more than one subcarrier and encoding. The idea would be to reduce the effect of noise is and concentrate noise on a specific subcarrier, rather this is spread out across all available. This would reduce the the weighting of noise when the normalisation of the signal happens, giving us a more realistic estimate. 

In the LTE framework, this approach could be used for the base station to understand if the payload was successfully received by the UE. This application is comparable to that of the data model in Case I, where a common event is shared amongst all users.


\begin{figure}[H]
    \centering
    \textbf{Schema: Encoded Halves, Each User XOR ACK-NACK}\par\medskip
    \includegraphics[
      width=12cm,
     height=14cm,
    keepaspectratio,]{ack_halves.jpg}
    \caption{Halved One shot random XOR allocation of subcarriers, from 1 user to N. }
    \label{fig:xor_schema}
\end{figure}

The schema depicted in \ref{fig:ack_schema}, has some drawbacks. If we do not know the size of the multicast group then it would be hard to gauge how many users have successfully received the intended transmission, additionally without the NACK element of the feedback, it would be hard to gauge how the overall consensus about the channel is. For this reason, an additional architectural aspect could be introduced. By adding another dimension to the scheme, the NACK field and Splitting the available subcarriers into two halves could allow for a more granular understanding of the current state of the system, having a situation where comparative values are available allows for some interesting information to be extracted. 

If we take the example of autonomous cars in a smart city, where there are a lot of users, a lot of potential interference and reflection from buildings and other wireless communications, in this kind of environment, it may be understandable that some data received is corrupt and incomplete. However, having two different pieces of information available, like ACK/NACK, would allow for a more robust understanding on data ratios and potential numbers of users. 

For example, if there are an unknown number of cars $C$ in a cell region and the fusion centre receives signal, $Z$ of the TBMA channel using Figure \ref{fig:xor_schema}, then the base station could understand a ratio of the integrity of the received data for all of the users, consider;

\begin{align}
    Ratio_\text{ACKs} = \frac{Z_{0}\ldots Z_{\frac{S}{2}}}{Z_{\frac{S}{2}}\ldots Z_{S}}
\end{align}

Where $S$ is the total number of subcarriers available in that channel construction, this approach would allow the base station to understand what proportion of the total number of users is receiving well formed data packets. Further information could be extracted if it is assumed that each user transmits with the same energy, $E$, then the base station knows what energy each user is transmitting with, thus the total energy received by the fusion centre;

\begin{align}
    Z_{K}  = K \cdot E_{k} + w
\end{align}
\begin{align}
    \implies K \approx \frac{Z_{K}}{E_{K}}.
\end{align}

Where the number of users can be approximated based on the total energy of the received signal, this holds true because of the energy constraint discussed in \cref{sys_mod}, this is an approximation because of the additive nature of noise in the transmission. 

In the LTE framework a very useful piece of feedback information each user can give the eNB is the Channel quality indicator (CQI), which was discussed in \cref{lte_feedback_current}, The CQI is, as the name suggests an indication of the quality of the channel each user is experiencing. This CQI value allows the eNB to best understand which modulation scheme to use for transmission. The CQI value ranges from 0-15 (modulation from QPSK to 64QAM), with 0 meaning the UE is out of cell range and 15 being the best case scenario. This is a very useful tool for the eNB to understand how efficiently depending on the external environmental factors to encode the information along the channel. 

The same situation applies here as the ACK/NACK scenario, the users should best use the channel to convey the collective consensus on the quality of the channel, with potentially huge amounts of users in a cell region, the feedback from multicast could be hard to handle. Using a TBMA channel with 16 subcarriers, each user could transmit an encoded bit in their respective subcarriers which corresponds to a real world value for the CQI. Case II from the data model is illustrated here, each user has a common set of different values which can be taken. 

\begin{figure}[H]
    \centering
    \textbf{Schema: CQI Individual structured encoding}\par\medskip
    \includegraphics[
      width=12cm,
     height=14cm,
    keepaspectratio,]{CQI_individual.jpg}
    \caption{Transmitted encoding of user gathered CQI information. }
    \label{fig:cqi_ind}
\end{figure}

As seen in Figure \ref{fig:cqi_ind}, each available subcarrier corresponds to a real world CQI value. This approach allows the eNB to get a snapshot of the current quality of the channel from multiple users. The eNB would receive at its fusion centre a PMF of the group of users CQI values at that instant, this would provide an overview of how all users in a group are receiving in the channel and allow the eNB to more appropriately adjust its encoding scheme to suit the majority of users. Circling back to one of the huge benefits of TBMA, as with traditional feedback methods 

Finally, the proposed channel on Figure \ref{fig:cqi_ind} is not without fault, error in the world of measurements is something that cannot be avoided, for this reason when measuring anything it is good practice to take a set of measurement to iron out any anomalies which may have occurred. 

Therefore, a step further for the CQI which could yield more stable and realistic results for the quality of a channel over time could be each user transmitting a recorded PMF of their respective CQI over time. This approach can be viewed in Figure \ref{fig:cqi_pmf}. This approach might be more realistic than its counterpart in the previous paragraph, due to the fluctuating nature of CQI in an outdoor environment. With the eNB having a more generalist snapshot of the CQI overtime vs an instantaneous approach could avoid unnecessary modulation coding changes when they are not needed. 

\begin{figure}[H]
    \centering
    \textbf{Schema: CQI one shot structured encoding}\par\medskip
    \includegraphics[
      width=12cm,
     height=14cm,
    keepaspectratio,]{CQI_individual.jpg}
    \caption{Transmitted encoding of user gathered CQI information. }
    \label{fig:cqi_pmf}
\end{figure}

It is worth noting that in the case of this approach, that the total number of energy of each transmission is constant. Therefore, each users PMF of measurements for a given $i-th$ transmission must satisfy:
\begin{align}
    E = \sum \boldsymbol{s}_{X^i_k} 
\end{align}

Such that if a user $k$, transmits a PMF of CQI values, each encoded subcarrier must only have $\frac{1}{X}$ proportion of the total energy available for each user. This is an important consideration and assumption to allow for further analysis of the received signal. 

As different scenarios are presented, some return higher levels of granularity than others. Above, some scenarios have been presented where only general information about ratios are of interest, however the scheme presented in Figure \ref{fig:cqi_pmf}, touches on how we can deduce more accurate types of information, these encoding and transmitted channels would not only allow the base station to understand which region of CQI users are in, but also as each user transmits a PMF, potentially we could also understand the variance of their channel quality.  Overall we can see that this goal orientated approach can indeed be tailored to the specific needs of each individual use case. As TBMA utilises this joint encoding and goal orientated approach, we can clearly see that given some consideration, sensible choice of scheme design, the TBMA approach could be adopted to fit a plethora of needs. Although some drawbacks exist that the channel and source need to be known before hand and this decreases somewhat the levels of flexibility.


\section{Simulation Results and analysis}\label{sim_results}
In this section the results from the numerical simulations will be presented with analysis. Prior assumptions will be outlined before the the numerical simulation is presented, then a short discussion on the results comparing the assumptions with the real outcome. 
\subsection{Evaluations method}
To evaluate the results of the simulation, the Mean Squared Error (MSE) of the ground truth and the outcome of the TBMA was used. Some prior assumptions about the environment are also considered, where all simulations are done for an $SNR \in (-10\dots40)dB$, all users transmit their respective payload with the energy constraint  $||s_{i}^2|| \leq 1$.  
Where the SNR and $\sigma2$ defined as:
\begin{equation} 
\text{SNR} = 10^{\frac{SNR_{i}}{10}}    
\end{equation}
Where each SNR value is calculated at each individual value in the above range.
\begin{equation}
    \sigma2 = \frac{1}{SNR}
\end{equation}
The power of each users signal is then transmitted with the following:
\begin{align}
    signal_{power} = \frac{\sum\limits_{i=1}^{X_{k}}|X_{i}|^2 }{X_{K}} \     
\end{align}
and the white gaussian complex noise is modelled as:
\begin{align}
    noise = \mathcal{CN}(0,1)
\end{align}
Finally we arrive at the output of the channel as :
\begin{align}
    Z = y_{h} + \sqrt{\sigma^2} \cdot \sqrt{signal_{power}} \cdot noise    
\end{align}

Lastly, we have the performance metrics MSE, which is a defined as the MSE between the ground truth values (depicted in \ref{fig:MSE}, as the $Tx$) and the received signal (depicted in \ref{fig:MSE} as $Rx$).
\begin{figure}[H]
    \centering
\begin{equation}
  MSE = \frac{\sum\limits_{u_{n,i}=1}^{u_{n,i}}|Tx - Rx|^2 }{u_{n,i}} \
\end{equation}
    \caption{Mean Square Error between Ground truth and outcome.}
    \label{fig:MSE}
\end{figure}

% Next, looking at Kullback Leibler Divergence of a discrete probability mass function (PMF) as a method evaluating the different scenarios, where $x$ is the PMF of each subcarrier in the system. 
% \begin{figure}[H]
%     \centering
% \begin{equation}
%     D_{KL}(P_{Tx}||Q_{Rx}) = \sum\limits_{x\in X} P_{Tx}(x) \log \left(\frac{P_{Tx}(x)}{Q_{Rx}(x)}\right)
% \end{equation}
%     \caption{Kullback Leibler Divergence , Tx PMF, Rx PMF.}
%     \label{fig:MSE}
% \end{figure}

\subsection{Simulation Results}
The following simulations were conducted in two different modes. All simulations consider random white complex Gaussian noise, $w$. First we take a deterministic channel response, $h=1$, which would show to us the behaviour of the system model in the best case channel scenario. Next, we consider a more realistic scenario when the channel is modelled as a response of size 3, which is modelled as a white complex Gaussian. The comparison of the varying affect of the number of users, $k$ and re-transmissions $l$ is considered and evaluated. 
The numerical analysis will compare the affects of ;
\begin{itemize}
    \item TBMA with increasing number of users, $k$
    \item TBMA with varying number of re-transmissions, $l$ without power constraint.
    \item TBMA with adaptive power based on re-transmissions,  $l$ with power constraint.
\end{itemize}

For all methods analysed numerically, the distribution is uniform, where, the probability of each subcarrier being encoded is $\frac{1}{X}$. When evaluating the increasing number of users, it was decided that the best approach would be to keep a ratio of users to subcarriers, 4:1. This has been decided to keep the experiment constant and not introduce other behaviour which may be a by product of varying subcarrier sizes. 
Looking first at the how the number of users would influence the MSE. It would be a reasonable assumption to believe that as the number of users increases, then the MSE should also decrease, which is an interpretation of the parameter estimation in Section \ref{param_estimation}. The idea is that as more users are transmitting information, then more of the noise is ironed out. Lastly, as the SNR range increases to more favourable values. It is also assumed that higher SNR ranges should yield lower MSE values as the noise has less of an impact on the signal. 

\subsubsection{Channel, h=1}

% users
\textbf{Users}
In Figure \ref{fig:effect_of_users}, it can be seen that as we increase the number of users in the network, that the previous assumption of decreasing MSE would hold still. We can also see from Figure \ref{fig:effect_of_users} that the affect of increasing the users is beginning to saturate, slowing as we increase the number of users. This observation is also a sensible assumption, that as the number of users tends toward infinity, we would see more of a true likeness of the original distribution. 

\begin{figure}[H]
    \centering
    \includegraphics[
      width=12cm,
     height=14cm,
    keepaspectratio,]
    {users_change.png}
    \caption{Varying effect of the SNR vs MSE of different number of users in the network. This simulation has 4 re-transmissions and 4 subcarriers fixed. }
    \label{fig:effect_of_users}
\end{figure}

% retransmissions
\textbf{Re-transmissions} \newline
Looking at the first of the two scenarios for re-transmissions, without power adaption. It would be assumed that the effect of the increasing number of re transmissions would decrease the MSE, due to the averaging effect of re-transmitting the same information reducing the error in the estimate to the real distribution. 

\begin{figure}[H]
    \centering
    \includegraphics[
      width=12cm,
     height=14cm,
    keepaspectratio,]
    {retries_identical.png}
    \caption{Varying effect of the SNR vs MSE of different number of re-transmissions of the same channel. This simulation has 64 users and 16 subcarriers fixed.}    \label{fig:effect_of_retx}
\end{figure}

As per the previous assumptions, we can clearly see in Figure \ref{fig:effect_of_retx} increasing effect of the re-transmissions does indeed reduce the MSE of the system, however, this affect is only really seen at higher SNR ranges and the affect does seem to saturate quite quickly. This is due to the channel being deterministic, the effect of the re-transmission has less importance, as the noise $w$ is added after the summation of the signal at the fusion centre, thus there is nothing to average out from the received signal. This approach, does not satisfy the power constraint on transmission.  

\textbf{Adaptive Power Re-transmissions} \newline
Lastly, looking at how the adapting the power across re transmissions affects the over all MSE. The idea is that such a system of TBMA should be constrained by power, it would be inefficient if every re-transmission and subcarrier index of the same signal was sent at full power, this would be a huge overhead for an information centric approach that utilises re-transmissions to increase the accuracy. Thus the idea was adopted such that each user would transmit their respective signal with power,$\frac{1}{L}$, where L is the total number of re-transmissions of the scheme. It would be expected that this approach would be similar to that of full power re-transmissions, where more re-transmissions result in decreased MSE. 

\begin{figure}[H]
    \centering
    \includegraphics[
      width=12cm,
     height=14cm,
    keepaspectratio,]
    % {event_subcarriers_change.png}
    {Adaptive_power_deterministic.png}
    \caption{Varying effect of the SNR vs MSE of having an adaptive power of each signal transmitted based on the number of retransmission.  }
    \label{fig:adapt_det_retx}
\end{figure}

Looking at Figure \ref{fig:adapt_det_retx}, we can see a similar downward trend in the MSE, however it would appear that using the adaptive power seems to decrease the performance as we increase the number of re-transmissions. This could be due to the deterministic channel and lack of random channel response to average out the transmitted signal. This could also be down to the fact that the noise would have more influence on the actual values being sent after the normalisation because with full power per transmission, the additional noise has less of an overall impact.


\subsubsection{Channel, h=random}
Now, looking at the same scenarios, but using a random Gaussian complex channel. The same preconceived ideas should apply for all three use cases, however due to the more realistic channel, we should see more noisy representations of what the deterministic channel showed.

% users
\begin{figure}[H]
    \centering
    \includegraphics[
      width=12cm,
     height=14cm,
    keepaspectratio,]
    {users_randoms.png}
    \caption{Varying effect of the SNR vs MSE of different number of users in the network. This simulation has a 4:1 ratio of users to subcarriers. }
    \label{fig:effect_of_users_random}
\end{figure}

In Figure \ref{fig:effect_of_users_random}, it can be seen that even with a random complex channel that increasing the number of users still decreases the MSE, of course, the MSE is generally much higher in the random channel, thus we observe the initial MSE of the corresponding plots to be different. We also notice that the MSE seems to saturate around the 15dB mark. [To explain why this saturation is seen].

% retransmissions
\begin{figure}[h]
    \centering
    \includegraphics[
      width=12cm,
     height=14cm,
    keepaspectratio,]
    {fading_retries.png}
    \caption{Varying effect of the SNR vs MSE of different number of re-transmissions of the same channel. This simulation has 64 users and  1 subcarriers fixed.}    \label{fig:effect_of_retx_random}
\end{figure}


In Figure \ref{fig:effect_of_retx_random}, much like the non power adaptive approach in \ref{fig:adapt_det_retx}, the MSE is decreased overall with the increase of re-transmissions with saturation as the number increases. Again, we observe this initial sharp decrease in the MSE for low SNR values, then coming to a saturation point around 15-20dB. 


Lastly, looking at how the adapting the power across re transmissions affects the over all MSE. Figure \ref{fig:adapt_random_rtx} plot is comparable to Figure \ref{fig:adapt_det_retx}, however unlike Figure \ref{fig:adapt_det_retx}, we do not see this decrease in performance when we increase the number of re-transmissions $L$, conversely we see what was expected in the prior assumptions, that as we increase the number of re-transmissions the MSE decrease and the performance gain is noted. 

\subsubsection{Different Schemes}
Now we will look at the comparison of the different schemes which were presented in the Section \ref{schemas_and_channels}. The following numerical analysis of above proposed schemes have different distributions based on the scheme, where the environment has 64 Users, 16 subcarriers and 4 re-transmissions
\begin{itemize}
    \item Scheme \ref{fig:xor_schema} for the data model found in \ref{eq:event01common}, which splits the available subcarrier in half, half used for ACK and the other for NACK. The analysis at the start of each simulation takes a random number between the 0 and $K$ users which is then used to assign the number of ACKS for the simulation. The choice of encoded subcarriers is uniformly distributed across all available.
    \item Scheme \ref{fig:cqi_ind} for the data model found in \ref{eq:event02independent}. This approach chooses a uniform random subcarrier to assign a value to, which equates to a real world CQI value. 
    \item Scheme \ref{fig:cqi_pmf} for the data model found in \ref{eq:event03PMF}. Similarly to the previous approach, a random value is chosen for the CQI value, however this time the simulation takes a normally distributed sample of 1000 values which mean of the random value, this generated PMF is then transmitted along the channel. 
\end{itemize}

It would be expected that all of the schemes have similar MSE across a given SNR range with slight fluctuations depending on the respective encoding. However, it would be expected that channel schemes that are transmitting non correlated information could perform slightly worse as the resolution of the information increases, thus the error would probably increase too. Conversely, it would be a sound assumption that when the users in a group are transmitting common information, the MSE should be decreased. It would also be expected that underlying similarities are more prominent in the deterministic channel vs the random one. 


Both the deterministic channel and the complex random channel have been compared, below in Figure \ref{fig:comp_mse_det}, we can see the results of the deterministic channel. As expected, the correlated information for  both CQI cases outperforms the ACK/NACK use case, which given the prior assumptions would make sense, as the ACK/NACK is transmitting mutually exclusive information, thus the assumption about correlation would not apply here. On the other hand, it can be seen that both CQI use cases perform similarly.

\begin{figure}[H]
    \centering
    \includegraphics[
      width=12cm,
     height=14cm,
    keepaspectratio,]
    {comparison_det_3schemes.png}
    \caption{MSE Vs SNR - comparison of different schemes, deterministic complex channel}
    \label{fig:comp_mse_det}
\end{figure}

Looking now at the random complex channel analysis, seen in Figure \ref{fig:comp_mse_rand}, it can be seen that still the ACK/NACK scheme is still performing the worst. What is notable here, however is that in Figure \ref{fig:comp_mse_det}, the PMF and the Individual CQI scores perform similar. However, when the channel is random complex, we notice that the CQI PMF outperforms the individual CQI scheme. It can be said that is expected, due to the nature of each user transmitting correlated information in the form of a PMF, which has been seen in section \ref{case3}. 

\begin{figure}[H]
    \centering
    \includegraphics[
      width=12cm,
     height=14cm,
    keepaspectratio,]
    {scheme_comp_16sc_64users_4rtx.png}
    \caption{MSE Vs SNR - comparison of different schemes, random complex channel}
    \label{fig:comp_mse_rand}
\end{figure}


\section{Application to the LTE framework}\label{lte_app}
\subsection{Introduction}
In this section the process of implementing the TBMA approach to the Long term evolution (LTE) framework is investigated and discussed, Looking at the different protocol layers and architecture. The given use-case of using TBMA as a feedback mechanism for multicast transmission as of the time of writing this thesis is not yet present. This section will progress through the different aspects of the LTE framework to investigate how such a feature could be consolidated with the current implementation. In section \cref{lte_feedback_current}, we examined how feedback is currently implemented is investigated with respect to CSI and ACK/NACK information, this section will outline how this can be adopted to serve TBMA for a simple use case such as ACK/NACK, in particular how the integration of PUCCH format 1A could be achieved for TBMA.

The LTE framework which is an ongoing development project of the 3GPP (3rd Generation Partnership Project), it was first proposed as an international standard in 2004 by NTT Docomo of Japan. Since its inception in 2004, the LTE framework has been developed internationally and has become a standard framework for mobile radio communication, the LTE works as an intermediary framework that connects mobile users to the internet. The scope of this thesis, looking into TBMA as a feedback mechanism from multicast transmission does not exceed the elements of the UE and the eNB in the LTE context, these can be viewed below in the figure.

\begin{figure}
    \centering
    \includegraphics[
      width=6cm,
     height=7cm,
    keepaspectratio,]
    {enb_ue_arch.jpg}
    \caption{General overview of LTE Architecture.}
    \label{fig:lte_arch}
\end{figure}

This simple overview consists of a base station (evolved node b, or eNB) and then all the connected user equipment (UE), which could be an entity connected to the LTE network which is not an eNB. The LTE network is responsible for decoding, encoding and exchanging information between the users through the IP network. 

The LTE framework is broken down into different layers which are all responsible for different aspects of the life cycle of the data, within the scope of this thesis, we are concerned with Layer 1 ( the physical layer) and part of Layer 2 (primarily the MAC), these entities correspond to the layers spoken about in \cref{lte_feedback_current}. 

\begin{figure}[h]
    \centering
    \includegraphics[
      width=6cm,
     height=7cm, 
    keepaspectratio,]
    {lte_layers_arch.jpg}
    \caption{LTE protocol layers overview.}
    \label{lte_protocol_stack}
\end{figure}

As seen in \cref{lte_protocol_stack}, the aspects of the LTE stack we are interested in are:
\begin{itemize}
    \item Physical layer (PHY) - The physical layer is responsible for all things physical, modulation, power control, link adaption and the physical encoding of the symbols. It communicates data with the MAC layer and receives control data from the RRC.[ref]
    \item Medium access control (MAC) - MAC is responsible for mapping data between logical channels and transport channels. The MAC handles all the multiplexing from logical to transport channels.[ref] The MAC layer is responsible for the 'when' the feedback mechanisms is used. 
\end{itemize}

Now the basic understanding of how the LTE framework works, with attention put on the notable aspects of the stack as discussed above, to move forward with the TBMA approach, we should understand how unicast vs multicast works (also for their respective current feedback). 

Unicast - As the name suggests, this is a one-to-one transmission , where each transmission is a direct channel from the sender to explicitly one receiver, this approach takes the intended users RNTI and scrambles the payload so that the data is only receivable by the intended user. This approach means that for every transmission across unicast a corresponding radio resource is also needed, this has some obvious redundancies, given the repeated usage of a radio resource, regardless of multiple users have the same corresponding information. Unicast in the LTE framework is the most frequented method of transmission. If we take each bidirectional arrow as a radio resource for general downlink data and uplink feedback data in \cref{fig:unicast_vs_mutlicast}, we could clearly see how each additional user given the current unicast feedback approach begins to use huge amounts of resources. For the multicast, if TBMA was adopted, only a single resource could be used for multicast data and feedback, severely reducing the overhead on the network for grouped data. 


\begin{figure}[h]
    \centering
    \includegraphics[
      width=9cm,
     height=10cm,
    keepaspectratio,]{uni_cast_multi_cast.png}
    \caption{Unicast vs Mutlicast with TBMA,}
    \label{fig:unicast_vs_mutlicast}
\end{figure}

Multicast - This style of transmission, is a one to many relationship. Users are grouped together, then a data transmission is disseminated amongst all users. This style of transmission in LTE network can be achieved through a variety of ways. 
\begin{itemize}
    \item Unicast transmission can be done to all users in a group individually (inefficient use of radio resource as there are many duplicates of the same data based on the group size).
    \item eMBMS - evolved multimedia broadcast service, this approach blocks a slot of the available sub frames and each user in the group has the relevant information to decode the data payload. This approach can simultaneously reach multiple users, but the scheduling of the downlink frames is very inflexible. 
    \item Single cell point-to-multiple point (SCPTM) - this is an amalgamation of the eMBMS and unicast, this approach best utilises the radio resource, whilst reaching multiple users in one transmission.  This approach allows flexible scheduling of the resources and keeps the radio overhead to a minimum. 
\end{itemize}

Feedback for unicast. Currently as of the 3GPP implementation, feedback for unicast transmission is still on a one-to-one topology (can be seen in \cref{fig:unicast_vs_mutlicast}), examples of feedback information the the base station would receive from this one-to-one approach, the following aspects are discussed in earlier sections;
\begin{itemize}
    \item HARQ ACK/NACK
    \item CQI
\end{itemize}

Currently whilst writing this thesis, feedback metrics for the other transmission styles mentioned earlier both rely on the same method that is used in unicast style transmission. 

\subsection{Application of TBMA to LTE}

To understand how the an implementation of TBMA could work, we need to understand data progress from human readable format to being encoded and mapped and transmitted along the channel.
To apply TBMA to feedback mechanisms in the LTE framework, the process of how LTE work encoding and decoding the signal must be understood. In modern LTE systems, OFDM (the encoding process of OFDMA discussed in the SoTA) is used to encode data in parallel to be transmitted along the channel. With the process of OFDM in LTE in mind, to realise TBMA a similar sequential encoding and decoding paradigm could be adopted. The previous section we have discussed how to implement TBMA and estimate its parameters, which is the basis of how then to apply this to the LTE framework. Looking at  \cref{fig:tbma_lte_view}, the basic flow of encoding TBMA packets can be seen. 

\begin{figure}[h]
    \centering
    \includegraphics[
      width=6cm,
     height=7cm,
    keepaspectratio,]
    {block_diag.jpg}
    \caption{TBMA LTE overview.}
    \label{fig:tbma_lte_view}
\end{figure}

Like the current OFDM approach, both IDFT/DFT and add/remove CP are still present. However, due to the nature of this information centric multiple user simultaneous transmission approach, we can view the parameter $\theta$ or $PMF$ signatures being sent in parallel along the same channel by multiple users, unlike OFDMA there is no need to equalise or do channel estimation as we are more interested in the correlation of the values which have been sent independently from the users and thus inherently been summed over the air.
% this is achieved through the matched filter, discussed in the \cref{sys_mod}.[REF]

Next as per \cref{lte_feedback_current}, we can see how the resource elements are encoded as per the usual standard, in the scope of this thesis, a simple mechanism is to be researched to encode the ACK/NACK for multiple users for TBMA.

As the scope of this proof of concept implementation in this thesis is limited to Format 1A on the PUCCH, a graphical representation of this process has been shown in \cref{fig:pucch_encode_decode_tbma}. The process for encoding an ACK/NACK on the UE side would remain the same, the UE would encode this 1 bit piece of information into the symbols highlighted in \cref{fig:pucch_encode_decode_tbma}, this PUCCH is then put through an IFFT and sent along the wireless channel, on the eNB side the reverse is then done, FFT and decode the of the signal. However at this point is where the TBMA would be divergence from the usual approach of the feedback over unicast. At this point after the PUCCH is begun to be decoded, we would take these scalar values of the ACK/NACK which are converted from raw symbol to real values and used as correlations to tell whether the received value is indeed an ACK or NACK, these are then summed and normalised as per the original TBMA equation in \cref{sys_mod}.


\begin{figure}[H]
    \centering
    \includegraphics[
      width=11cm,
     height=17cm,
    keepaspectratio,]
    {tbma_pucch_prop.jpg}
    \caption{TBMA srsLTE process.}
    \label{fig:pucch_encode_decode_tbma}
\end{figure}


\subsection{Proof of concept}\label{srslte_poc}
This section discusses a walk through of how a Proof of concept (POC) TBMA was achieved in an LTE compliant software framework, called srsLTE mentioned throughout the thesis. Here, we will describe the tools used to perform this test in a real LTE framework and how the test is validate and evaluated. The srsLTE project is modular library and full stack SDR implementation on the LTE network. This is LTE compliant and adheres to the standards dictated in the 3GPP specifications. The srsLTE project has developed not only a full stack for Evolved Packet Core, evolved Node B and the user equipment. But, they also have exposed a modular library which can be used to piece together different aspect from within the full stack. They also offer many example code files, which can be adapted to suit the users needs \cite{srsLTE}. 

The people at srsLTE have exposed smaller unit cases for subsystems within each of the stacks. They allow quick prototyping and proof of concept coding, in particular this POC was based on their example file for $PUCCH ca TEST$, which is an example of how the PUCCH could be encoded and decoded in normal LTE operation. This example does not transmit any data over a physical wireless medium, rather it uses the same functionality as the production version of the stack until the point where the data is transmitted across the actual USRP. This means that there is no physical channel and if left as is, would equate the same scenario as described in \cref{det_chan}, however this can be adapted by programmatically adding in a random complex channel as described in \cref{rand_chan}, both approaches were tried and tested. 

This example file allows for prototyping different configurations which are validated by the srsLTE stack functions. The modular functions used allow the user to try all the combinations of the PUCCH or PUSCH configurations based on the 3GPP specification, 36.211 Section 5.4, as described in the earlier sections. The example file follows the same setup procedure which would be found in the fully functioning UE/eNB setup for encoding and decoding the PUCCH/PUSCH - we are however, only interested in the PUCCH for this scope. The relative aspects of the eNB and UE are initialised with their respective configurations. The setup of resource configurations of the tests were as follows:

\begin{itemize}
    \item Physical resource blocks = 6
    \item Transport blocks = 1
    \item Carriers = 1
\end{itemize}

After this, each UE is to encode just one ACK or NACK message at random, a comparable situation as found in \cref{schemas_and_channels}. This data is is then sent through the pipeline as would be encoded in the real world in an LTE network. The approach initially follows the same procedure for encoding the ACK/NACK bits to the PUCCH on Format 1A, however, some changes needed to be made to accommodate TBMA style feedback. The general process for encoding to the PUCCH is as follows;

\begin{enumerate}
\label{encode_pucch_proc}
    \item ACK or NACK chosen.
    \item Verify PUCCH configuration as given in Section 5.4 36.211 
    \item Procedure for determining PUCCH assignment 10.1 36.213
    \item Encode bits - dependent on Format - 1A is a straight copy of the bits. 
    \item Encode PUCCH bits according to Table 5.4.1-1 in Section 5.4.1 of 36.211
    \item Map PUCCH symbols to physical resources according to 5.4.3 in 36.211
\end{enumerate}
 
The steps to be followed are the same as shown in \cref{fig:pucch_encode_decode_tbma}. TBMA would follow the similar steps as \cref{encode_pucch_proc} with a few caveats to understand adhere to TBMA principals. With TBMA, the available subcarriers for the transmission in the case of the ACK/NACK have predefined meanings, i.e 1st available signature is for ACKs, second available for NACKs.

\begin{figure}[h]
    \centering
    \includegraphics[
      width=10cm,
     height=7cm,
    keepaspectratio,]{acknack_creation_encode.png}
    \caption{Creation of ACK/NACK message to be encoded.}
    \label{fig:encodeACKSNACKS}
\end{figure}

\cref{fig:encodeACKSNACKS}, details how for example in this proof of concept file, 10 UEs would have their ACK/NACK subcarriers encoded. As per the previous schema ideas, the first symbol being ACK and second being NACK is depicted by $ack_value[0]$ and $ack_value[1]$ respectively, as discussed previously the encoding and transmission of these fields are mutually exclusive, meaning it would be contradictory for a UE to encode both ACK and NACK as a feedback message. The arrays in \cref{fig:encodeACKSNACKS} depict the choice of ACK and NACK for the 10 UEs in the test. 

The next step is how to physically encode these values in the the PUCCH. Configurations for format 1A are still chosen as the path through the source code. Some modifications are then made to the how these bits are encoded into the UCI. This can be viewed in \cref{fig:uci_mod_tbma}

\begin{figure}[H]
    \centering
    \includegraphics[
      width=7cm,
     height=5cm,
    keepaspectratio,]{UCI_encode.png}
    \caption{Creation of ACK/NACK message to be encoded.}
    \label{fig:uci_mod_tbma}
\end{figure}

Post the encoding of the UCI bits to the PUCCH, the rest of the procedure for creating the raw symbols to be transmitted is as normal. The next step in the proof of concept is deal with all the different symbols from the different users who would be transmitting the TBMA over the air. In the real world these symbols would be summed over the air by the fact they had been encoded in the same place on the actual radio link, as there is no actual radio link in this concept, the idea was adopted to sum these symbols up before they were processed on the eNB. \cref{fig:tbma_buf} can be seen that each of the symbols is just summed to there respective next users symbols, there are 1008 raw symbols due to the configurations. 

\begin{figure}[H]
    \centering
    \includegraphics[
      width=7cm,
     height=5cm,
    keepaspectratio,]{tbma_buf_sum.png}
    \caption{Creation of ACK/NACK message to be encoded.}
    \label{fig:tbma_buf}
\end{figure}

At this point, we have all our symbols gathered up from multiple UE transmissions. The next step is we must process these symbols to get some useful information from them, this snipped is depicted in \cref{tbma_decode}. As we are decoding two different bit fields, which potentially could have the possibility of being 4 distinct combinations of events, i.e ack/ack, nack/ack etc, however as we know the outcome of TBMA in this case is a mutually exclusive event by  each UE, i.e each UE can only transmit either an ACK or NACK and not both, we are only interested in 2 outcomes when we match the correlation. The correlation matching is taken by finding the maximum value for the 4 possibilities that exist, then taking this as the max correlation that the value is in deed the value that was sent. These two correlation values are then taken to show what the ratio of the i.e ACKs to NACKs are.

\begin{figure}[H]
    \centering
    \includegraphics[
      width=9cm,
     height=7cm,
    keepaspectratio,]{decoding_tbma_acks_nacks.png}
    \caption{Decoding of ACK/NACK message transmitted over combined channel.}
    \label{fig:tbma_decode}
\end{figure}


Although there is no real radio link in this POC, it can still be made more realistic however, by adding in a simulated random complex channel as per the simulation in the previous section. The channel, h is taken from a normal distribution with mean 0 and standard deviation 1 (for both the real and imaginary parts) and applied i.i.d along the channel of each user. Taking a step forward to a more realistic setup as per the simulations in \cref{sys_mod}, we add in the duplicate re-transmissions and the random channel, seen \cref{fig:retries_ota_complex}. 

\begin{figure}[H]
    \centering
    \includegraphics[
      width=9cm,
     height=7cm,
    keepaspectratio,]{retries_ota.png}
    \caption{ User Re-transmission, complex channel.}
    \label{fig:retries_ota_complex}
\end{figure}


Finally, to satisfy the power constraint on the transmission discussed also in \cref{sys_mod}. The final buffer of symbols represented by $tbma buffer$ are then divided by the number of re transmissions which were done, this is to simulate the power of the symbols being collectively worth 1 transmission vs how they would be worth 30 transmission of power. This can be viewed below;

\begin{figure}[H]
    \centering
    \includegraphics[
      width=7cm,
     height=5cm,
    keepaspectratio,]{adapt_power.png}
    \caption{Adaptive power of transmission.}
    \label{fig:retries_ota_complex_adapt}
\end{figure}

Overall the POC has shown that the goal-orientated approach of TBMA can be work with that of the LTE network, the implementation described above can handle encoding and decoding ACK/NACK TBMA transmission with a single signature for each ACK and NACK. It follow the same procedure which would be found in a live LTE network implemented by srsLTE, with some caveats on how the encoding is performed. Obviously some deviation was needed to achieve the decoding of the channel, however there has been nothing which based on the research done in this thesis has violated any serious LTE concerns.  

% The received symbols are then summed as per the simulation in \cref{sim_results}. As the creation of the symbols in the srsLTE stack is as per the process described earlier in the \cref{lte_feedback_current}, when inspecting the raw symbols denoted by complex floating point types with real and imaginary parts, we can sum these in the correct position as per the specification. This allows us to take all the raw symbols which would be transmitted during a multicast feedback and inspect them on a symbol basis to work out what the overall consensus of a parameter is. 

\subsubsection{POC tests and evaluation}
The evaluation and testing of the above proposed proof of concept method and implementation is evaluated and tested in this section, result are presented and discussed.. Here, we take into consideration the two different approaches as per the simulation in previous sections. Initially we check the viability of the solution using a channel equal to 1, meaning a deterministic channel. Next, we move forward to verifying the approach with a random normal complex channel, with mean 0 and standard deviation 1. These two approaches were conducted for various random ACK/NACK combinations. 

\subsubsection{Channel, h=1}
Several different tests were conducted with a deterministic channel to see if the ratio of ACKs to NACKs could be understood, this would be a great additional feature to the LTE, as for the reasons discussed earlier about redundancy and the more effective usage of the radio resources available for larger scale networks and users. 

Simulations of 10, 50 and 100 users were conducted, with a range of different of parameters for the retries and the various ACK/NACK combinations. This subsection only shows an overview as the channel is deterministic. This deterministic channel is used as a bench mark to ensure the encoding and decoding of the combined TBMA channel performs as expected. 

\begin{table}[H]
    \centering
 \begin{tabular}{||c c c c||} 
 \hline
 No. UEs & No. ACK/NACK & No. Retx & Result \\ [0.5ex] 
 \hline\hline
 10 & 0.3/0.7 & 10 &  0.3/0.7 \\ 
 \hline
 50 & 0.3/0.7 & 10 & 0.3/0.7 \\
 \hline
 100 & 0.6/0.4 & 30 & 0.6/0.4 \\
 \hline
 200 & 0.6/0.4 & 30 & 0.6/0.4 \\ [1ex] 
 \hline
\end{tabular}
    \caption{Results of deterministic channel srsLTE POC}
    \label{tab:my_label}
\end{table}

\subsubsection{Channel, h=random complex}
The same setup and tests as above for the a random complex channel were also conducted, this random complex channel is modelled as $\mathcal{CN}(0,1)$. However, now as this channel is no longer deterministic, the below results are more specific and to the individual simulations conducted in the previous sections of this thesis. We will look at the results of the following situations:

\begin{enumerate}
    \item Increasing UEs, fixed re-transmissions, fixed ACK/NACK. 
    \item Increasing re-transmissions, fixed UEs, fixed ACK/NACK
    \item Varying ACK/NACK, fixed UEs, fixed re-transmissions.
\end{enumerate}

Situation 1, we would expect that the increasing number of UEs in the feedback TBMA , that the received and decoded ACK/NACKs would tend towards the real world values that had been transmitted. 

\begin{table}[H]
    \centering
 \begin{tabular}{||c c c c||} 
 \hline
 No. UEs & No. ACK/NACK & No. Retx & Result \\ [0.5ex] 
 \hline\hline
 10 & 0.7/0.3 & 10 &  0.086/0.913 \\ 
 \hline
 50 & 0.7/0.3 & 10 & 0.251/0.749 \\
 \hline
 100 & 0.7/0.3 & 10 & 0.399/0.601 \\
 \hline
 200 & 0.7/0.3 & 10 & 0.718/0.282 \\ [1ex] 
 \hline
\end{tabular}
    \caption{Results of random channel, Increasing UEs srsLTE POC}
    \label{tab:rand_chan_UEs_increase}
\end{table}

As expected we see in \cref{tab:rand_chan_UEs_increase}


Next we look at the varying affect of the re-transmissions on the received 

\begin{table}[H]
    \centering
 \begin{tabular}{||c c c c||} 
 \hline
 No. UEs & No. ACK/NACK & No. Retx & Result \\ [0.5ex] 
 \hline\hline
 200 & 0.3/0.7 & 10 &  0.699/0.301 \\ 
 \hline
 200 & 0.3/0.7 & 50 & 0.3/0.7 \\
 \hline
 200 & 0.6/0.4 & 100 & 0.6/0.4 \\
 \hline
 200 & 0.6/0.4 & 200 & 0.6/0.4 \\ [1ex] 
 \hline
\end{tabular}
    \caption{Results of random channel, varying ACK/NACKs srsLTE POC}
    \label{tab:rand_chan_rtx_increase}
\end{table}

As we can see from \cref{tab:rand_poc_res}, 

Finally for completeness, we look at the performance of the varying ACK/NACK combinations, we would assume that the combination of ACK/NACK being transmitted shouldn't make much of a difference, perhaps when All the UEs have a equal consensus on the outcome we would see slightly undesirable behaviour and when things are equal we may not 

\begin{table}[H]
    \centering
 \begin{tabular}{||c c c c||} 
 \hline
 No. UEs & No. ACK/NACK & No. Retx & Result \\ [0.5ex] 
 \hline\hline
 10 & 0.3/0.7 & 10 &  0.3/0.7 \\ 
 \hline
 50 & 0.3/0.7 & 10 & 0.3/0.7 \\
 \hline
 100 & 0.6/0.4 & 30 & 0.6/0.4 \\
 \hline
 200 & 0.6/0.4 & 30 & 0.6/0.4 \\ [1ex] 
 \hline
\end{tabular}
    \caption{Results of random channel, Increasing retransmissions srsLTE POC}
    \label{tab:rand_chan_rtx_increase}
\end{table}


\section{Summary and outlook}\label{summary_out}

This thesis has presented a goal orientated approach for multiple users to transmit correlated information across a wireless medium using type based multiple access. Firstly, in a simulation environment, looking into which attributes of the simulation play the biggest role into minimising the error. This led to identifying that the number of re-transmissions of the same data helped increase the accuracy of the TBMA channel. However, this led to an interesting idea that all nodes in a multicast group sending re-transmitted data at full power is both redundant and counter productive, so the power constraint that all transmissions for a TBMA channel, should not exceed the combined power limit of 1.

This simulation could be extended to take into consideration various other encoding schemes and spreading said schemes across multiple subcarriers to better the signal diversity and possible attain better results. Other evaluation metrics could be used apposed to that of the MSE, for example, KL divergence could be used in future to understand the divergence from the underlying PMF to the received one.  

Looking into how to apply this TBMA to real world LTE framework was the next step, looking closely how the like of ACK/NACK re transmission works in the current setup, was the introductions to knowing how TBMA in relation to ACK/NACK could be integrated into the likes of the current LTE network. Identifying how the simplest form of feedback worked in LTE led to a design choice around the PUCCH transmission of ACK/NACK through format 1A. Further investigation into how the the  mapping of these high level concepts of ACK/NACK to the physical resource was investigated. 

Upon understanding how these feedback channels works through 3GPP specification led into a proof of concept implementation through a LTE complaint open source SDR project called srsLTE, this project adheres to the same implementation found in the technical specifications from the 3GPP. Through the use of some stock test file which follows the normal LTE procedure for encoding and decoding up-link transmission, an adaption of the aforementioned test was created to allow for the encoding and decoding of 2 subcarrier TBMA channel with ACK/NACK in mind. Although this implementation was not strictly done over a radio interface, it was however propagated through all the respective functionality which it would be exposed to in normal LTE mode through the srsLTE project. In an attempted to ensure the most realistic representation of the setup without an actual radio interface, a modelled complex channel was introduced to bridge this gap. 

Overall as expected the result for the deterministic approach were always perfect representations of the ground truth. Although this is not a realistic situation, it has given the basic backbone for knowing that the process of encoding and decoding the TBMA channel was indeed plausible. Contrast to this, looking at the result when there was a complex random channel introduced between the encode/decode of the symbols, we can see that although exact ratios were not achieved. However, we see that the resultant ratios are still of within suitable range of error, and could be of use in the real world. 

Moving forward and next steps, would be to trial the same system over a physical radio link. Although the simulated channel is a good model of the real world, to ensure this would be a completely viable solution, it should be trialled with a real radio link. Upon verifying that this assumption is correct, next steps should be to implement the other encoding schemes as per the \cref{schemas_and_channels}. Extending the implementation from 2 fields for ACK/NACK to multiple fields capable of conveying more granular data would be a suitable next step. The current setup for encoding ACK/NACK would also need to be extended for encoding PMFs from the UEs, currently this POC only encompasses a one-shot style on one signature on the PUCCH. 

This thesis has only investigated how the TBMA approach could be integrated into the lower layers of the LTE network, more investigation into how the higher layers of the LTE stack would play a role in the formation and organisation of these TBMA packets. More over, other considerations to be taken into account moving forward would be such items as, testing the viability of integrating this approach with live ACK/NACK date from the unicast channel, how could this be multiplexed given the current setup in LTE. Other questions remain open too - should this TBMA have its own predefined format for the PUCCH or should it just utilise the remaining free areas in the PUCCH/PUSCH, what style of priority should be used. This proof of concept implementation merely address the physical how to of TBMA and does not take into consideration other related questions about how the finer integration should work.



\addcontentsline{toc}{section}{References}
\bibliographystyle{plain}
\bibliography{\jobname}
\include{bib}
\end{document}

